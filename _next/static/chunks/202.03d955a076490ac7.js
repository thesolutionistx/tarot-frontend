(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[202],{7202:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return x}});var n=t(7568),a=t(7582),i=t(5893),s=t(7294),o=t(6064),c=t(1163),l=t(5697),d=t.n(l),u=t(1417),h=t(191),p=t(6042),g=t(9396),m=t(7066),f=t(1728),b=(function(){var e=(0,n.Z)((function(e,r){var t,n;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t=r.map((function(e){return"".concat(e.name).concat(e.isReversed?" (Reversed)":""," in the ").concat(e.position," position")})).join(", "),(0,f.Rj)(),(0,f.r9)(e,t),[4,m.Z.post("/api/readings/generate",{question:e,cards:r,readingType:1===r.length?"single-card":3===r.length?"three-card":5===r.length?"five-card-cross":"celtic-cross"})];case 1:return[2,a.sent().data.reading.interpretation];case 2:throw n=a.sent(),console.error("Error generating tarot reading:",n),n;case 3:return[2]}}))}))}(),function(){var e=(0,n.Z)((function(){var e;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,m.Z.get("/api/tarot/cards")];case 1:return[2,r.sent().data.cards];case 2:return e=r.sent(),console.error("Error fetching tarot cards:",e),[2,b()];case 3:return[2]}}))}))}(),function(){return[{id:0,name:"The Fool",image:"/cards/fool.jpg"},{id:1,name:"The Magician",image:"/cards/magician.jpg"},{id:2,name:"The High Priestess",image:"/cards/high_priestess.jpg"},{id:3,name:"The Empress",image:"/cards/empress.jpg"},{id:4,name:"The Emperor",image:"/cards/emperor.jpg"},{id:5,name:"The Hierophant",image:"/cards/hierophant.jpg"},{id:6,name:"The Lovers",image:"/cards/lovers.jpg"},{id:7,name:"The Chariot",image:"/cards/chariot.jpg"},{id:8,name:"Strength",image:"/cards/strength.jpg"},{id:9,name:"The Hermit",image:"/cards/hermit.jpg"},{id:10,name:"Wheel of Fortune",image:"/cards/wheel_of_fortune.jpg"},{id:11,name:"Justice",image:"/cards/justice.jpg"},{id:12,name:"The Hanged Man",image:"/cards/hanged_man.jpg"},{id:13,name:"Death",image:"/cards/death.jpg"},{id:14,name:"Temperance",image:"/cards/temperance.jpg"},{id:15,name:"The Devil",image:"/cards/devil.jpg"},{id:16,name:"The Tower",image:"/cards/tower.jpg"},{id:17,name:"The Star",image:"/cards/star.jpg"},{id:18,name:"The Moon",image:"/cards/moon.jpg"},{id:19,name:"The Sun",image:"/cards/sun.jpg"},{id:20,name:"Judgement",image:"/cards/judgement.jpg"},{id:21,name:"The World",image:"/cards/world.jpg"}]}),v=function(e){e.auth;var r=e.generateReading,t=(0,c.useRouter)(),o=(0,s.useState)(""),l=o[0],d=o[1],h=(0,s.useState)("general"),m=h[0],f=h[1],v=(0,s.useState)("single"),x=v[0],j=v[1],y=(0,s.useState)(!1),w=y[0],k=y[1],N=(0,s.useState)(null),O=N[0],T=N[1],C=[{value:"single",label:"Single Card",description:"Quick insight for a specific situation",cardCount:1},{value:"three",label:"Past-Present-Future",description:"Understand your journey through time",cardCount:3},{value:"five",label:"Five Card Cross",description:"Detailed analysis of your current situation",cardCount:5},{value:"celtic",label:"Celtic Cross",description:"Comprehensive reading for complex questions",cardCount:10}],P=function(){var e=(0,n.Z)((function(e){var n,i,s,o;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:e.preventDefault(),k(!0),T(null),a.label=1;case 1:return a.trys.push([1,3,,4]),n=function(e){var r=C.find((function(r){return r.value===e}));return r?r.cardCount:1}(x),i=function(e){var r,t=b(),n=[],a=new Set;if(1===e)r=["Present"];else if(3===e)r=["Past","Present","Future"];else if(5===e)r=["Center","Above","Below","Past","Future"];else{if(10!==e)throw new Error("Unsupported card count: ".concat(e));r=["Present","Challenge","Past","Future","Above","Below","Advice","External","Hopes/Fears","Outcome"]}for(var i=0;i<e;i++){var s=void 0;do{s=Math.floor(Math.random()*t.length)}while(a.has(s));a.add(s),n.push((0,g.Z)((0,p.Z)({},t[s]),{position:r[i],isReversed:Math.random()>.7}))}return n}(n),[4,r({question:l,readingType:"single"===x?"single-card":"three"===x?"three-card":"five"===x?"five-card-cross":"celtic-cross",cards:i})];case 2:return s=a.sent(),t.push({pathname:"/result",query:{id:s._id}}),[3,4];case 3:return o=a.sent(),console.error("Error generating reading:",o),T("Unable to generate reading. Please try again."),k(!1),[3,4];case 4:return[2]}}))}));return function(r){return e.apply(this,arguments)}}();return(0,i.jsx)("div",{className:"min-h-screen bg-primary-dark py-12 px-4 sm:px-6 lg:px-8",children:(0,i.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,i.jsxs)(u.E.div,{className:"relative bg-primary-medium rounded-xl shadow-2xl p-6 sm:p-10 overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,i.jsxs)(u.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},children:[(0,i.jsx)("h1",{className:"text-4xl sm:text-5xl font-cinzel text-accent-gold text-center mb-8",children:"Tarot Reading"}),(0,i.jsx)("p",{className:"text-white/80 text-center mb-10",children:"Focus your energy and intention as you prepare to receive guidance from the cards"}),O&&(0,i.jsx)("div",{className:"bg-red-900/50 border border-red-500 text-white px-4 py-3 rounded mb-6",children:O}),(0,i.jsxs)("form",{onSubmit:P,children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("label",{className:"block font-cinzel text-accent-gold mb-3 text-xl",children:"What question seeks an answer?"}),(0,i.jsx)("textarea",{value:l,onChange:function(e){return d(e.target.value)},className:"w-full bg-gray-700/50 border border-gray-600 rounded-lg p-4 text-white focus:outline-none focus:ring-2 focus:ring-accent-gold/50 focus:border-accent-gold/50 transition-all min-h-[120px]",placeholder:"Enter your question or focus for this reading...",required:!0}),(0,i.jsx)("p",{className:"text-white/60 text-sm mt-2 italic",children:"For the clearest guidance, be specific but open-ended in your inquiry"})]}),(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("label",{className:"block font-cinzel text-accent-gold mb-3 text-xl",children:"Choose your reading type"}),(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{value:"general",label:"General Guidance",description:"Overall insight into your life path"},{value:"love",label:"Love & Relationships",description:"Guidance for matters of the heart"},{value:"career",label:"Career & Finances",description:"Insight into your professional journey"},{value:"spiritual",label:"Spiritual Growth",description:"Guidance for your spiritual development"}].map((function(e){return(0,i.jsx)(u.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-4 border rounded-lg cursor-pointer transition-all ".concat(m===e.value?"border-accent-gold bg-accent-gold/10":"border-white/20 hover:border-accent-gold/50"),onClick:function(){return f(e.value)},children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-5 h-5 rounded-full mr-3 border ".concat(m===e.value?"border-accent-gold bg-accent-gold":"border-white/50"),children:m===e.value&&(0,i.jsx)("div",{className:"w-2 h-2 bg-primary-dark rounded-full m-auto"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-cinzel font-medium text-white",children:e.label}),(0,i.jsx)("p",{className:"text-white/70 text-sm",children:e.description})]})]})},e.value)}))})]}),(0,i.jsxs)("div",{className:"mb-10",children:[(0,i.jsx)("label",{className:"block font-cinzel text-accent-gold mb-3 text-xl",children:"Select your spread"}),(0,i.jsx)("div",{className:"grid grid-cols-1 gap-4",children:C.map((function(e){return(0,i.jsx)(u.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"p-4 border rounded-lg cursor-pointer transition-all ".concat(x===e.value?"border-accent-gold bg-accent-gold/10":"border-white/20 hover:border-accent-gold/50"),onClick:function(){return j(e.value)},children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-5 h-5 rounded-full mr-3 border ".concat(x===e.value?"border-accent-gold bg-accent-gold":"border-white/50"),children:x===e.value&&(0,i.jsx)("div",{className:"w-2.5 h-2.5 bg-primary-dark rounded-full m-auto"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-cinzel font-medium text-white",children:e.label}),(0,i.jsx)("p",{className:"text-white/70",children:e.description})]})]})},e.value)}))})]}),(0,i.jsx)(u.E.button,{type:"submit",className:"btn-primary w-full py-4 text-lg flex justify-center items-center",disabled:w,whileHover:{scale:1.03},whileTap:{scale:.98},children:w?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-primary-dark",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Drawing the Cards..."]}):"Reveal the Cards"})]})]}),(0,i.jsx)(u.E.div,{className:"absolute top-1/4 -left-20 w-40 h-40 opacity-10 hidden lg:block",initial:{rotate:0},animate:{rotate:360},transition:{duration:60,repeat:1/0,ease:"linear"},children:(0,i.jsxs)("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"#FFD700",strokeWidth:"1"}),(0,i.jsx)("path",{d:"M50 5L50 95",stroke:"#FFD700",strokeWidth:"0.5"}),(0,i.jsx)("path",{d:"M5 50L95 50",stroke:"#FFD700",strokeWidth:"0.5"}),(0,i.jsx)("path",{d:"M20 20L80 80",stroke:"#FFD700",strokeWidth:"0.5"}),(0,i.jsx)("path",{d:"M20 80L80 20",stroke:"#FFD700",strokeWidth:"0.5"})]})}),(0,i.jsx)(u.E.div,{className:"absolute bottom-1/4 -right-20 w-40 h-40 opacity-10 hidden lg:block",initial:{rotate:0},animate:{rotate:-360},transition:{duration:80,repeat:1/0,ease:"linear"},children:(0,i.jsx)("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("polygon",{points:"50,0 61,35 97,35 68,57 79,91 50,70 21,91 32,57 3,35 39,35",stroke:"#FFD700",strokeWidth:"1"})})})]})})})};v.propTypes={auth:d().object.isRequired,generateReading:d().func.isRequired};var x=(0,o.$j)((function(e){return{auth:e.auth}}),{generateReading:h.$i})(v)},1163:function(e,r,t){e.exports=t(387)},2703:function(e,r,t){"use strict";var n=t(414);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,r,t,a,i,s){if(s!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function r(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:i,resetWarningCache:a};return t.PropTypes=t,t}},5697:function(e,r,t){e.exports=t(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4924:function(e,r,t){"use strict";function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}t.d(r,{Z:function(){return n}})},6042:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(4924);function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(r){(0,n.Z)(e,r,t[r])}))}return e}},9396:function(e,r,t){"use strict";function n(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})),e}t.d(r,{Z:function(){return n}})}}]);