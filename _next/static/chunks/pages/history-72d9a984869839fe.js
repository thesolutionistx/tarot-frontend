(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[276],{484:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/history",function(){return a(840)}])},840:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var i=a(5893),n=a(7568),r=a(7582),s=a(7294),d=a(6064),c=a(1417),l=a(1664),o=a.n(l),m=a(191),u=(0,d.$j)((function(e){return{auth:e.auth,reading:e.reading}}),{getUserReadings:m.ag})((function(e){e.auth;var t=e.reading,a=e.getUserReadings,d=(0,s.useState)(!0),l=d[0],m=d[1];(0,s.useEffect)((function(){var e=function(){var e=(0,n.Z)((function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),[4,a()];case 1:return t.sent(),[3,4];case 2:return e=t.sent(),console.error("Error loading readings:",e),[3,4];case 3:return m(!1),[7];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[a]);var u=t.readings;return(0,i.jsx)("div",{className:"min-h-screen bg-primary-dark py-12 px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,i.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[(0,i.jsx)("h1",{className:"text-4xl sm:text-5xl font-cinzel text-accent-gold mb-4",children:"Your Reading History"}),(0,i.jsx)("p",{className:"text-white/80 max-w-3xl mx-auto",children:"Review your past tarot readings and the insights they provided"})]}),l?(0,i.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent-gold"})}):u&&u.length>0?(0,i.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:u.map((function(e,t){return(0,i.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},className:"bg-primary-medium rounded-xl shadow-xl p-6 mb-6",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-cinzel text-accent-gold mb-1",children:"single-card"===e.readingType?"Single Card Reading":"three-card"===e.readingType?"Three Card Reading":"five-card-cross"===e.readingType?"Five Card Cross Reading":"Celtic Cross Reading"}),(0,i.jsx)("p",{className:"text-white/60 text-sm",children:(a=e.createdAt,new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))})]}),(0,i.jsx)(o(),{href:"/result?id=".concat(e._id),className:"btn-secondary px-4 py-2 mt-4 md:mt-0",children:"View Reading"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("h3",{className:"font-medium text-white/90 mb-1",children:"Question:"}),(0,i.jsx)("p",{className:"text-white/80 italic",children:e.question})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-white/90 mb-2",children:"Cards:"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:e.cards.map((function(e,t){return(0,i.jsxs)("span",{className:"inline-block bg-primary-light px-3 py-1 rounded-full text-sm",children:[e.name," ",e.isReversed?"(R)":""]},t)}))})]})]},e._id);var a}))}):(0,i.jsxs)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"bg-primary-medium rounded-xl shadow-xl p-8 text-center",children:[(0,i.jsx)("h2",{className:"text-2xl font-cinzel text-accent-gold mb-4",children:"No Readings Yet"}),(0,i.jsx)("p",{className:"text-white/80 mb-6",children:"You haven't had any tarot readings yet. Get your first reading to start your journey."}),(0,i.jsx)(o(),{href:"/reading",className:"btn-primary px-6 py-3",children:"Get Your First Reading"})]}),(0,i.jsx)(c.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"mt-8 text-center",children:(0,i.jsx)(o(),{href:"/dashboard",className:"text-accent-gold hover:text-accent-gold/80",children:"\u2190 Back to Dashboard"})})]})})}));function x(){return(0,i.jsx)(u,{})}}},function(e){e.O(0,[502,914,688,664,191,774,888,179],(function(){return t=484,e(e.s=t);var t}));var t=e.O();_N_E=t}]);