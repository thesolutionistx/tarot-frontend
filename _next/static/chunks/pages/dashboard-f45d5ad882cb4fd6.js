(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1075:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return s(9045)}])},662:function(e,t,s){"use strict";var a=s(7568),n=s(7582),i=s(5893),r=s(7294),l=s(6064),c=s(1664),d=s.n(c),o=s(1417),x=s(191);t.Z=(0,l.$j)((function(e){return{auth:e.auth,reading:e.reading}}),{getUserReadings:x.ag})((function(e){var t=e.auth,s=e.reading,l=e.getUserReadings,c=(0,r.useState)(!0),x=c[0],m=c[1];(0,r.useEffect)((function(){var e=function(){var e=(0,a.Z)((function(){var e;return(0,n.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),[4,l()];case 1:return t.sent(),[3,4];case 2:return e=t.sent(),console.error("Error loading readings:",e),[3,4];case 3:return m(!1),[7];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[l]);var h=t.user,u=s.readings,g=u&&u.length>0?u[0]:null;return(0,i.jsx)("div",{className:"min-h-screen bg-primary-dark py-12 px-4 sm:px-6 lg:px-8",children:(0,i.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[(0,i.jsxs)("h1",{className:"text-4xl sm:text-5xl font-cinzel text-accent-gold mb-4",children:["Welcome, ",h?h.username:"Seeker"]}),(0,i.jsx)("p",{className:"text-white/80 max-w-3xl mx-auto",children:"Your journey through the arcana continues. What guidance do you seek today?"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[(0,i.jsxs)(o.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"bg-primary-medium rounded-xl shadow-2xl p-6 sm:p-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-cinzel text-accent-gold mb-4",children:"Your Tokens"}),(0,i.jsxs)("div",{className:"flex items-center mb-6",children:[(0,i.jsx)("div",{className:"w-16 h-16 bg-accent-gold/20 rounded-full flex items-center justify-center mr-4",children:(0,i.jsx)("span",{className:"text-accent-gold text-2xl font-bold",children:h?h.tokenBalance:0})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-white/80",children:"Available for readings"}),(0,i.jsx)(d(),{href:"/tokens",className:"text-accent-gold hover:text-accent-gold/80 text-sm mt-1 inline-block",children:"Purchase more tokens"})]})]}),(0,i.jsx)(d(),{href:"/reading",className:"btn-primary w-full py-3 text-center block",children:"New Reading"})]}),(0,i.jsxs)(o.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},className:"bg-primary-medium rounded-xl shadow-2xl p-6 sm:p-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-cinzel text-accent-gold mb-4",children:"Reading History"}),x?(0,i.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-accent-gold"})}):u&&u.length>0?(0,i.jsxs)("div",{children:[(0,i.jsxs)("p",{className:"text-white/80 mb-4",children:["You have ",u.length," past reading",1!==u.length?"s":""]}),(0,i.jsx)(d(),{href:"/history",className:"btn-secondary w-full py-3 text-center block",children:"View All Readings"})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-white/80 mb-4",children:"You haven't had any readings yet"}),(0,i.jsx)(d(),{href:"/reading",className:"btn-secondary w-full py-3 text-center block",children:"Get Your First Reading"})]})]})]}),g&&(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-primary-medium rounded-xl shadow-2xl p-6 sm:p-8 mb-12",children:[(0,i.jsx)("h2",{className:"text-2xl font-cinzel text-accent-gold mb-4",children:"Your Latest Reading"}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("h3",{className:"font-medium text-white/90 mb-1",children:"Question:"}),(0,i.jsx)("p",{className:"text-white/80 italic",children:g.question})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h3",{className:"font-medium text-white/90 mb-1",children:"Cards:"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-2",children:g.cards.map((function(e,t){return(0,i.jsxs)("span",{className:"inline-block bg-primary-light px-3 py-1 rounded-full text-sm",children:[e.name," ",e.isReversed?"(R)":""]},t)}))})]}),(0,i.jsx)(d(),{href:"/result?id=".concat(g._id),className:"btn-secondary w-full py-3 text-center block",children:"View Full Reading"})]}),(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"bg-primary-medium rounded-xl shadow-xl p-6 text-center",children:[(0,i.jsx)("h3",{className:"text-xl font-cinzel text-accent-gold mb-3",children:"Single Card"}),(0,i.jsx)("p",{className:"text-white/70 mb-4",children:"Quick insight for a specific question"}),(0,i.jsx)(d(),{href:"/reading",className:"btn-secondary w-full py-2 text-center block",children:"Draw 1 Card"})]}),(0,i.jsxs)("div",{className:"bg-primary-medium rounded-xl shadow-xl p-6 text-center",children:[(0,i.jsx)("h3",{className:"text-xl font-cinzel text-accent-gold mb-3",children:"Three Card Spread"}),(0,i.jsx)("p",{className:"text-white/70 mb-4",children:"Past, Present, Future reading"}),(0,i.jsx)(d(),{href:"/reading",className:"btn-secondary w-full py-2 text-center block",children:"Draw 3 Cards"})]}),(0,i.jsxs)("div",{className:"bg-primary-medium rounded-xl shadow-xl p-6 text-center",children:[(0,i.jsx)("h3",{className:"text-xl font-cinzel text-accent-gold mb-3",children:"Celtic Cross"}),(0,i.jsx)("p",{className:"text-white/70 mb-4",children:"Comprehensive reading for deep insights"}),(0,i.jsx)(d(),{href:"/reading",className:"btn-secondary w-full py-2 text-center block",children:"Full Reading"})]})]})]})})}))},9045:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(5893),n=s(662);function i(){return(0,a.jsx)(n.Z,{})}}},function(e){e.O(0,[502,914,688,664,191,774,888,179],(function(){return t=1075,e(e.s=t);var t}));var t=e.O();_N_E=t}]);