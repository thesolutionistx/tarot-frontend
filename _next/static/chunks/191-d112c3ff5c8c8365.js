"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[191],{191:function(e,n,t){t.d(n,{$i:function(){return c},Wr:function(){return d},ag:function(){return u}});var r=t(7568),i=t(7582),a=t(9218),o=t(5559),s=t(1728),c=function(e){return function(){var n=(0,r.Z)((function(n){var t,r,c,u,d,h;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n({type:a.cS}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.bP.generateReading(e)];case 2:return t=i.sent(),n({type:a.h6,payload:t.data.reading}),[2,t.data.reading];case 3:return i.trys.push([1,5,,6]),r=i.sent(),console.warn("API call failed, using mock response:",r),c={_id:"mock-"+Date.now(),user:"current-user",question:e.question,cards:e.cards,readingType:e.readingType,interpretation:(0,s.fq)(e.question,e.cards),tokensSpent:"single-card"===e.readingType?5:"three-card"===e.readingType?15:"five-card-cross"===e.readingType?20:30,createdAt:(new Date).toISOString()},n({type:a.h6,payload:c}),[2,c];case 4:return[3,6];case 5:throw u=i.sent(),n({type:a.e0,payload:(null===(d=u.response)||void 0===d||null===(h=d.data)||void 0===h?void 0:h.message)||"Error generating reading"}),u;case 6:return[2]}}))}));return function(e){return n.apply(this,arguments)}}()},u=function(){return function(){var e=(0,r.Z)((function(e){var n,t,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:e({type:a.cS}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.bP.getUserReadings()];case 2:return n=i.sent(),e({type:a.Ai,payload:n.data.readings}),[3,4];case 3:return t=i.sent(),console.warn("Error fetching readings, using mock data:",t),r=[{_id:"mock-1",question:"What does my career path look like in the next year?",readingType:"three-card",cards:[{name:"The Hermit",position:"Past",isReversed:!1},{name:"The Magician",position:"Present",isReversed:!1},{name:"The Sun",position:"Future",isReversed:!1}],interpretation:"Your career path shows a period of reflection and learning (The Hermit) leading to a time where you can use your skills creatively (The Magician). The future looks bright with success and recognition (The Sun).",createdAt:"2025-03-20T14:23:45.000Z"},{_id:"mock-2",question:"How can I improve my relationships?",readingType:"single-card",cards:[{name:"The Lovers",position:"Present",isReversed:!0}],interpretation:"The Lovers (Reversed) suggests you may be experiencing disconnection or imbalance in your relationships. Focus on clear communication and ensuring your values align with those you are close to.",createdAt:"2025-03-18T09:12:30.000Z"}],e({type:a.Ai,payload:r}),[3,4];case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}()},d=function(e){return function(){var n=(0,r.Z)((function(n){var t,r,s,c,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n({type:a.cS}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.bP.getReadingById(e)];case 2:return t=i.sent(),n({type:a.LY,payload:t.data.reading}),[3,4];case 3:return r=i.sent(),console.warn("Error fetching reading by ID, using mock data:",r),e&&e.startsWith("mock-")?(s={_id:e,question:"What does my career path look like in the next year?",readingType:"three-card",cards:[{name:"The Hermit",position:"Past",isReversed:!1},{name:"The Magician",position:"Present",isReversed:!1},{name:"The Sun",position:"Future",isReversed:!1}],interpretation:"Your career path shows a period of reflection and learning (The Hermit) leading to a time where you can use your skills creatively (The Magician). The future looks bright with success and recognition (The Sun).",createdAt:"2025-03-20T14:23:45.000Z"},n({type:a.LY,payload:s})):n({type:a.e0,payload:(null===(c=r.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message)||"Error fetching reading"}),[3,4];case 4:return[2]}}))}));return function(e){return n.apply(this,arguments)}}()}},9218:function(e,n,t){t.d(n,{$i:function(){return A},A8:function(){return R},Ai:function(){return f},Cy:function(){return a},LY:function(){return y},M7:function(){return l},Ms:function(){return h},Nv:function(){return u},Ny:function(){return o},Qj:function(){return c},S4:function(){return k},TS:function(){return w},VK:function(){return v},XP:function(){return s},YY:function(){return i},Zt:function(){return S},bp:function(){return r},cS:function(){return T},e0:function(){return p},ek:function(){return m},h6:function(){return g},pp:function(){return d},qY:function(){return I},ud:function(){return E},y2:function(){return _}});var r="REGISTER_SUCCESS",i="REGISTER_FAIL",a="USER_LOADED",o="AUTH_ERROR",s="LOGIN_SUCCESS",c="LOGIN_FAIL",u="LOGOUT",d="CLEAR_ERRORS",h="GET_READING_TYPES",l="READING_TYPES_ERROR",g="GENERATE_READING",p="READING_ERROR",f="GET_READINGS",y="GET_READING",m="CLEAR_READING",T="SET_LOADING",v="GET_TOKEN_PACKAGES",R="TOKEN_PACKAGES_ERROR",E="CREATE_PAYMENT_INTENT",w="PAYMENT_INTENT_ERROR",_="CONFIRM_PURCHASE",A="PURCHASE_ERROR",k="GET_TRANSACTIONS",I="TRANSACTIONS_ERROR",S="UPDATE_TOKEN_BALANCE"},5559:function(e,n,t){t.d(n,{_u:function(){return s},bP:function(){return c},kv:function(){return o}});var r=t(7066),i=t(3454),a=r.Z.create({baseURL:i.env.NEXT_PUBLIC_API_URL||"https://api.askpsychicdrew.com/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer ".concat(n)),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){return e}),(function(e){return e.response&&401===e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname.includes("/login")||(window.location.href="/login")),Promise.reject(e)}));var o={register:function(e){return a.post("/auth/register",e)},login:function(e){return a.post("/auth/login",e)},getCurrentUser:function(){return a.get("/auth/me")}},s={getTokenPackages:function(){return a.get("/tokens/packages")},createPaymentIntent:function(e){return a.post("/tokens/payment-intent",{packageId:e})},confirmPurchase:function(e,n){return a.post("/tokens/confirm-purchase",{transactionId:e,paymentIntentId:n})},getUserTransactions:function(){return a.get("/tokens/transactions")}},c={getReadingTypes:function(){return a.get("/readings/types")},generateReading:function(e){return a.post("/readings/generate",e)},getUserReadings:function(){return a.get("/readings")},getReadingById:function(e){return a.get("/readings/".concat(e))}}},1728:function(e,n,t){t.d(n,{Rj:function(){return o},fq:function(){return c},r9:function(){return s}});var r=t(7568),i=t(7582),a=t(7066),o=(function(){var e=(0,r.Z)((function(e){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,a.Z.post("/api/readings/generate",e)];case 1:return[2,t.sent().data];case 2:throw n=t.sent(),console.error("Error generating tarot reading:",n),n;case 3:return[2]}}))}))}(),function(){return"\n    You are Psychic Tarot Andrew, a skilled Tarot reader who provides insightful, empathetic readings with spiritual guidance.\n    You blend ancient symbolism with modern psychological insights.\n    Your readings are detailed, personalized, and focused on empowerment rather than prediction.\n    Interpret the cards in relation to the user's question, providing both traditional meanings and intuitive insights.\n  "}),s=function(e,n){return'\n    The querent has asked: "'.concat(e,'"\n    \n    They have drawn the following cards: ').concat(n,"\n    \n    Please provide a detailed tarot reading that interprets these cards in relation to their question.\n    Include the symbolism of each card, how they relate to each other, and practical guidance.\n    Your reading should be empathetic, insightful, and empowering.\n  ")},c=function(e,n){var t={"The Fool":"new beginnings, spontaneity, and faith","The Magician":"manifestation, resourcefulness, and power","The High Priestess":"intuition, unconscious knowledge, and mystery","The Empress":"femininity, abundance, and nurturing","The Emperor":"authority, structure, and control","The Hierophant":"tradition, conformity, and spiritual guidance","The Lovers":"love, harmony, and choices","The Chariot":"determination, willpower, and victory",Strength:"courage, patience, and compassion","The Hermit":"introspection, solitude, and inner guidance","Wheel of Fortune":"change, cycles, and destiny",Justice:"fairness, truth, and law","The Hanged Man":"surrender, new perspective, and waiting",Death:"endings, change, and transformation",Temperance:"balance, moderation, and patience","The Devil":"shadow self, attachment, and restriction","The Tower":"sudden change, revelation, and awakening","The Star":"hope, faith, and inspiration","The Moon":"illusion, fear, and subconscious","The Sun":"positivity, success, and vitality",Judgement:"rebirth, inner calling, and absolution","The World":"completion, achievement, and fulfillment"},r='Dear Seeker,\n\nThank you for sharing your question: "'.concat(e,'"\n\n');return r+="I've consulted the cards and received a powerful message for you.\n\n",n.forEach((function(e){var n=e.name,i=e.position,a=e.isReversed;switch(r+="In the ".concat(i," position, you have ").concat(n).concat(a?" (Reversed)":"",". "),r+="This card represents ".concat(t[n]||"wisdom and guidance",". "),a&&(r+="When reversed, it suggests challenges or internal aspects of these energies. "),r+="In this position, it indicates that ",i){case"Past":r+="your past experiences with ".concat(t[n]||"these energies"," have shaped your current situation. ");break;case"Present":r+="you are currently experiencing or need to embody the qualities of ".concat(t[n]||"this card"," in your life right now. ");break;case"Future":r+="embracing ".concat(t[n]||"these qualities"," will help you navigate what lies ahead. ");break;default:r+="this energy is significant in relation to your question. "}r+="\n\n"})),r+="Looking at these cards together, I see a narrative forming. ",1===n.length?r+="This single card provides clear guidance for your question. ":3===n.length?r+="The progression from past to present to future shows an evolution in your journey. ":n.length>3&&(r+="The complex interplay between these cards reveals multiple aspects of your situation. "),r+="\n\nMy guidance for you is to reflect on these messages and consider how they apply to your specific circumstances. ",r+="Remember that you have the power to shape your path forward, and these cards are simply tools for insight and reflection.\n\n",r+="I hope this reading provides clarity and inspiration for your journey ahead.\n\n",r+="Warmly,\nPsychic Tarot Andrew"}}}]);