(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{3746:function(e,t,a){"use strict";a.r(t);var r=a(5893),s=a(7294),n=a(6064),o=a(1896),l=a(5697),i=a.n(l),c=a(1163),d=a(1417),u=a(1664),m=a.n(u);let Register=e=>{let{register:t,isAuthenticated:a}=e,[n,o]=(0,s.useState)({name:"",email:"",password:"",password2:""}),[l,i]=(0,s.useState)(!1),[u,h]=(0,s.useState)(""),g=(0,c.useRouter)(),{name:p,email:x,password:b,password2:f}=n,onChange=e=>o({...n,[e.target.name]:e.target.value}),onSubmit=async e=>{if(e.preventDefault(),h(""),b!==f){h("Passwords do not match");return}i(!0);try{await t({name:p,email:x,password:b})}catch(e){var a,r;h((null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||"Registration failed. Please try again."),i(!1)}};s.useEffect(()=>{a&&g.push("/dashboard")},[a,g]);let w={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return(0,r.jsxs)("div",{className:"min-h-screen flex items-center justify-center px-4 py-12 bg-gradient-to-b from-primary-dark to-primary-darker",children:[(0,r.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute top-1/3 left-10 w-24 h-24 opacity-10",children:(0,r.jsx)("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("polygon",{points:"50,0 61,35 97,35 68,57 79,91 50,70 21,91 32,57 3,35 39,35",stroke:"#FFD700",strokeWidth:"1"})})}),(0,r.jsx)("div",{className:"absolute bottom-1/3 right-10 w-32 h-32 opacity-10",children:(0,r.jsxs)("svg",{viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"#FFD700",strokeWidth:"2"}),(0,r.jsx)("path",{d:"M50 5L50 95M5 50L95 50M15 15L85 85M15 85L85 15",stroke:"#FFD700",strokeWidth:"1"})]})})]}),(0,r.jsxs)(d.E.div,{className:"glass-panel w-full max-w-md p-8 md:p-10",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,when:"beforeChildren",staggerChildren:.15}}},initial:"hidden",animate:"visible",children:[(0,r.jsx)(d.E.div,{variants:w,children:(0,r.jsx)("h2",{className:"text-3xl md:text-4xl font-cinzel font-bold mb-6 text-center",children:"Begin Your Journey"})}),u&&(0,r.jsx)(d.E.div,{className:"bg-red-500/20 border border-red-500/50 text-white p-3 rounded-lg mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:u}),(0,r.jsxs)(d.E.form,{onSubmit:onSubmit,variants:w,children:[(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"block font-cinzel text-accent-gold mb-2",htmlFor:"name",children:"Your Name"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:p,onChange:onChange,required:!0,className:"w-full bg-white/5 border border-accent-gold/30 rounded-lg focus:border-accent-gold focus:ring-2 focus:ring-accent-gold/50",placeholder:"Enter your name"})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"block font-cinzel text-accent-gold mb-2",htmlFor:"email",children:"Email Address"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:x,onChange:onChange,required:!0,className:"w-full bg-white/5 border border-accent-gold/30 rounded-lg focus:border-accent-gold focus:ring-2 focus:ring-accent-gold/50",placeholder:"Enter your email"})]}),(0,r.jsxs)("div",{className:"mb-5",children:[(0,r.jsx)("label",{className:"block font-cinzel text-accent-gold mb-2",htmlFor:"password",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",value:b,onChange:onChange,required:!0,minLength:"6",className:"w-full bg-white/5 border border-accent-gold/30 rounded-lg focus:border-accent-gold focus:ring-2 focus:ring-accent-gold/50",placeholder:"Create a password"})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("label",{className:"block font-cinzel text-accent-gold mb-2",htmlFor:"password2",children:"Confirm Password"}),(0,r.jsx)("input",{type:"password",id:"password2",name:"password2",value:f,onChange:onChange,required:!0,minLength:"6",className:"w-full bg-white/5 border border-accent-gold/30 rounded-lg focus:border-accent-gold focus:ring-2 focus:ring-accent-gold/50",placeholder:"Confirm your password"})]}),(0,r.jsx)(d.E.button,{type:"submit",className:"btn-primary w-full flex justify-center items-center",disabled:l,whileHover:{scale:1.03},whileTap:{scale:.98},children:l?(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 text-primary-dark",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Embark on Your Path"})]}),(0,r.jsx)(d.E.div,{className:"mt-8 text-center text-white/80",variants:w,children:(0,r.jsxs)("p",{children:["Already on your journey?"," ",(0,r.jsx)(m(),{href:"/login",children:(0,r.jsx)("a",{className:"text-accent-gold hover:text-accent-gold-light transition-colors",children:"Login here"})})]})})]})]})};Register.propTypes={register:i().func.isRequired,isAuthenticated:i().bool},t.default=(0,n.$j)(e=>{var t;return{isAuthenticated:null===(t=e.auth)||void 0===t?void 0:t.isAuthenticated}},{register:o.z2})(Register)},1896:function(e,t,a){"use strict";a.d(t,{kS:function(){return logout},x4:function(){return login},z2:function(){return register}});let login=(e,t)=>async t=>{try{let a={data:{token:"sample-token",user:{email:e}}};return localStorage.setItem("token",a.data.token),t({type:"LOGIN_SUCCESS",payload:a.data}),!0}catch(e){return t({type:"LOGIN_FAIL"}),!1}},register=(e,t,a)=>async a=>{try{let r={data:{token:"sample-token",user:{name:e,email:t}}};return localStorage.setItem("token",r.data.token),a({type:"REGISTER_SUCCESS",payload:r.data}),!0}catch(e){return a({type:"REGISTER_FAIL"}),!1}},logout=()=>e=>{localStorage.removeItem("token"),e({type:"LOGOUT"})}},1163:function(e,t,a){e.exports=a(9974)}}]);